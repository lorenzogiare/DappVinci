{% extends 'patentApp/base.html' %}

{% block head %}
<div class="row justify-content-center">

    {% if user.is_authenticated %}

    <div class="row justify-content-center">
        <div class="col-lg-6 col md-6 col-sm-8 col-12 text-center">
            <div class="alert alert-success" style="height:4rem" role="alert">
                <h3>Welcome back <b><i>{{ user.username }}</i></b> !</h3>
            </div>
        </div>
    </div>

    <div class="col-3 mb-3 mt-2">
        <a href='/DappVinci/new-patent/'><button class="btn btn-primary">Fill new Patent</button></a>
    </div>

    <div class="col-3 mb-4 mt-2">
        <a href='/DappVinci/logout/'><button class="btn btn-secondary">Log out</button></a>
    </div>

    {% else %}

    <div class="col-3 mb-3 mt-2">
        <a href='/DappVinci/login/'><button class="btn btn-primary">Login</button></a>
    </div>

    <div class="col-3 mb-4 mt-2">
        <a href='/DappVinci/register/'><button class="btn btn-warning">Register</button></a>
    </div>

    {% endif %}
</div>


<div class="container-fluid mb-5">
    <form class="search_bar" action="" method="post">
        {% csrf_token %}

        <div class="row justify-content-center mb-2">
            <div class="col-lg-7 col-sm ">{{ form.search_filter }}</div>
        </div>

        <div class="row justify-content-center mb-4">
            <div class="col-lg-2 col-sm-4">
                <h6>order from</h6>{{ form.patent_order }}
            </div>
            <div class="col-lg-2 col-sm-4">
                <h6>select author</h6>{{ form.owner_filter }}
            </div>
        </div>
        <div class='row justify-content-center'>
            <div class='col-4'>
                <input type="submit" class='btn btn-success btn-lg' value="search">
            </div>
        </div>
    </form>
</div>
{% endblock %}


{% block content %}
<div class="container-fluid">
    {% for patent in patents %}
    <div class="row justify-content-center text-center">
        <div class="card mb-4" style="width: 40rem;">
            <div class="card-header">
                <time class="date text-muted"></time>
            </div>
            <div class="card-body">
                <h4 class='card-title'>{{ patent.content.title }}</h4>
                <p class='card-text'>{{ patent.content.description|linebreaksbr }}</p>
                <footer class="blockquote-footer mt-1"><cite title="Source Title">{{ article.author }}</cite></footer>
                <a href="{% url 'readPatent' pk=patent.pk %}" class="btn btn-primary custom">Open</a>
                <style>
                    .custom:visited {
                        background-color: #804999;
                        border-color: #804999;
                    }
                </style>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endblock %}
    -->